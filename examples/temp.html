<!DOCTYPE html>
<html>
<head>
    <meta charset="gb2312">
    <title>##练习</title>
    <style type="text/css">
        .table1{  width:500px; border-collapse:collapse;}
        .table1 td{border:1px solid #ccc; padding:0 10px; line-height:22px;}
        .table1 th{ background-color:#eee; border:1px solid #ccc; line-height:30px; font-weight:bold; color:#000; font-family:"microsoft yahei";}
    </style>
</head>
<body>
<script id="headertmpl" type="text/x-dot-template">
    {{##def.snippet1:
    <table class="table1">
        <tr>
            <th>{{#def.a}}</th>
            <th>{{#def.b}}</th>
            <th>{{#def.c}}</th>
            <th>{{#def.d}}</th>
        </tr>
       {{ for(var i = 0,len = it.results.length; i < len;i++){ }}
            <tr><td>{{=it.results[i].a}}</td><td>{{=it.results[i].a}}</td><td>{{=it.results[i].a}}</td><td>{{=it.results[i].a}}</td></tr>
       {{ } }}
    </table>
    #}}
    {{#def.snippet1}}
</script>
<div id="a"></div>
<div id="b"></div>
<script type="text/javascript" src="../doT.js"></script>
<script type="text/javascript">
    function view1(tid,def,ele,data){
        var pagefn = doT.template(document.getElementById(tid).text,undefined,def);
        document.getElementById(ele).innerHTML = pagefn(data);
    }
    function callback(data){
        var tid = 'headertmpl',
            def = {
                a:'标题1',
                b:'标题2',
                c:'标题3',
                d:'标题4'
            },
            ele = 'a';
        view1(tid,def,ele,data);
    }
    callback({
        results:[
            {"a":"1","b":"2","c":'3',"d":'4'},
            {"a":"1","b":"2","c":'3',"d":'4'},
            {"a":"1","b":"2","c":'3',"d":'4'},
            {"a":"1","b":"2","c":'3',"d":'4'}
        ]
    });
    function callback1(data){
        var tid = 'headertmpl',
                def = {
                    a:'名称',
                    b:'性别',
                    c:'班级',
                    d:'年龄'
                },
                ele = 'b';
        view1(tid,def,ele,data);
    }
    callback1({
        results:[
            {"a":"1","b":"2","c":'3',"d":'4'},
            {"a":"1","b":"2","c":'3',"d":'4'},
            {"a":"1","b":"2","c":'3',"d":'4'},
            {"a":"1","b":"2","c":'3',"d":'4'}
        ]
    })
</script>
</body>
</html>